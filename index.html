<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Киберпрестъпност ГДБОП</title>
    <meta name="description"
        content="киберпрестъпност гдбоп, гдбоп киберсигурност, дирекция киберпрестъпност, съвети за киберсигурност">
    <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'unsafe-eval' blob: https://www.tiktok.com https://*.ttwstatic.com;
    style-src 'self' 'unsafe-inline';
    font-src 'self';
    img-src 'self' https://www.tiktok.com https://*.ttwstatic.com data:;
    frame-src https://www.facebook.com https://web.facebook.com https://www.tiktok.com https://*.tiktok.com;
    connect-src 'self' https://*.tiktok.com https://*.ttwstatic.com https://raw.githubusercontent.com;
    ">

    <link rel="icon" href="images/favicon.png" />

    <!-- Tailwind CSS -->

    <script src="assets/js/tailwindcss.js"></script>

    <script src="assets/js/babel.min.js"></script>


    <!-- Google Fonts -->
    <link href="assets/css/montserrat.css" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Montserrat', 'ui-sans-serif', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'gdbop-blue': '#47a8f6',
                        'gdbop-dark': '#0f172a', // slate-900
                        'police-blue': '#0055ff',
                        'police-red': '#ff0000',
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'scan': 'scan 4s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        scan: {
                            '0%': { top: '-10%' },
                            '100%': { top: '110%' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Import Map for React and Lucide -->
    <script type="importmap">
{
  "imports": {
    "lucide-react": "./assets/js/lucide-react.js",
    "react": "./assets/js/react.js",
    "react-dom/client": "./assets/js/react-dom.js"
  }
}
</script>
</head>

<body
    class="bg-gdbop-dark text-slate-100 font-sans antialiased overflow-x-hidden selection:bg-gdbop-blue selection:text-white">
    <div id="root"></div>

    <script type="text/babel" data-type="module" data-presets="react,typescript">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import {
            Lock, MailWarning, TrendingDown, ShieldAlert, Skull,
            ShieldCheck, Eye, RefreshCw, HardDrive, Smartphone,
            MessageCircle, CheckCircle, Video, Siren, MapPin, Facebook, Youtube, ExternalLink,
            ArrowUp, Globe, TrendingUp, ArrowRight,
            Briefcase, Heart, Users, FileBadge, Coins, Activity, Bug, ServerOff, Fingerprint, FolderLock
        } from 'lucide-react';

        // --- CONSTANTS ---

        const TRANSLATIONS = {
            bg: {
                home: "Начало",
                tips: "Съвети",
                video: "Видео",
                blog: "Блог",
                threats: "Заплахи",
                contacts: "Контакти",
                headerTitle: "Борба с киберпрестъпността",
                headerSubtitle: "ГДБОП-МВР",
                videoTitle: "Видеоканал",
                tipsTitle: "СЪВЕТИ ЗА КИБЕРСИГУРНОСТ",
                ctaText: "Ако сте жертва или свидетел на киберпрестъпление, подайте сигнал в най-близкото районно полицейско управление или на място в дирекция",
                ctaDirectorate: "Киберпрестъпност",
                ctaMvr: "при ГДБОП-МВР",
                footerTitle: "Дирекция Киберпрестъпност, ГДБОП-МВР",
                address: 'град София, бул. "Александър Малинов", № 1, бариерата на 07 районно, Национална полиция и Американския колеж',
                openMap: "Отвори адреса в навигацията",
                rights: "Всички права запазени.",
                latestFrom: "ПОСЛЕДНО ОТ",
                live: "НА ЖИВО",
                threatFeedTitle: "БЮЛЕТИН ЗА ЗАПЛАХИ",
                blogTitle: "НОВИНИ ОТ FACEBOOK",
                loading: "Зареждане...",
                error: "Грешка при зареждане",
                source: "ИЗТОЧНИК",
                malware: "ЗЛОВРЕДЕН ЛИНК",
                status: "СТАТУС",
                offline: "ОФЛАЙН",
                online: "ОНЛАЙН",
                date: "ДАТА",
                investment: "Инвестиционни измами",
                backHome: "Към Начало",
                phishingTitle: "Фишинг домейни",
                phishingNav: "Фишинг",
                domain: "ДОМЕЙН",
                score: "РЕЗУЛТАТ",
                prev: "Предишна",
                next: "Следваща",
                page: "Страница",
                of: "от"
            },
            en: {
                home: "Home",
                tips: "Tips",
                video: "Video",
                blog: "Blog",
                threats: "Threats",
                contacts: "Contacts",
                headerTitle: "Cybercrime Directorate",
                headerSubtitle: "Organised Crime General Directorate, Bulgarian Ministry of the Interior",
                videoTitle: "Video Channel",
                tipsTitle: "CYBERSECURITY TIPS",
                ctaText: "If you are a victim or witness of a cybercrime, report it to the nearest police station or at the Directorate",
                ctaDirectorate: "Cybercrime",
                ctaMvr: "at GDCOC-MoI",
                footerTitle: "Cybercrime Directorate, Organised Crime General Directorate, Bulgarian Ministry of the Interior",
                address: 'Sofia, 1 Alexander Malinov Blvd, barrier of the 07 police station, National police HQ and American college',
                openMap: "Open address in navigation",
                rights: "All rights reserved.",
                latestFrom: "LATEST FROM",
                live: "LIVE",
                threatFeedTitle: "THREAT FEED",
                blogTitle: "FACEBOOK NEWS",
                loading: "Loading...",
                error: "Error loading data",
                source: "SOURCE",
                malware: "MALICIOUS LINK",
                status: "STATUS",
                offline: "OFFLINE",
                online: "ONLINE",
                date: "DATE",
                investment: "Investment Fraud",
                backHome: "Back to Home",
                phishingTitle: "PHISHING DOMAINS",
                phishingNav: "Phishing",
                domain: "DOMAIN",
                score: "SCORE",
                prev: "Previous",
                next: "Next",
                page: "Page",
                of: "of"
            }
        };

        const TIPS_DATA = [
            {
                id: 'passwords',
                title: { bg: 'ПАРОЛИ', en: 'PASSWORDS' },
                icon: Lock,
                content: {
                    bg: 'Използвайте комбинация от малки и големи букви, цифри и специални знаци. Изберете парола над 10 знака. Не използвайте имена, телефонен номер, рождени дати, повтарящи се или визуално еднакви символи. Не използвайте една и съща парола за няколко различни профила. Не споделяйте паролата си с никого. Запишете паролата си на сигурно място. Сменяйте периодично паролите си.',
                    en: 'Use a combination of uppercase and lowercase letters, numbers, and special characters. Choose a password over 10 characters long. Do not use names, phone numbers, birthdates, repeating or visually identical symbols. Do not use the same password for different accounts. Do not share your password with anyone. Write it down in a safe place. Change your passwords periodically.'
                },
                linkText: { bg: 'Изберете парола от нашият генератор ineedpass.com', en: 'Choose a password from our generator ineedpass.com' },
                linkUrl: 'https://ineedpass.com/'
            },
            {
                id: 'phishing',
                title: { bg: 'ФИШИНГ', en: 'PHISHING' },
                icon: MailWarning,
                content: {
                    bg: 'Игнорирайте имейли или други съобщения от съмнителен източник. Помнете, че държавни институции, банки и фирми почти никога няма да искат от Вас да изпратите лични данни в имейл или чат. Бъдете изключително внимателни при сваляне и активиране на файлове, прикачени към имейли със стресиращ текст или подканящи за незабавно действие.',
                    en: 'Ignore emails or other messages from suspicious sources. Remember that government institutions, banks, and companies will almost never ask you to send personal data via email or chat. Be extremely careful when downloading and activating files attached to emails with stressful text or prompting immediate action.'
                },
                linkText: { bg: 'Вижте списъка с фишинг домейни тук', en: 'See the list of phishing domains here' },
                linkUrl: '#phishing-feed'
            },
            {
                id: 'investment',
                title: { bg: 'ИНВЕСТИЦИОННИ ИЗМАМИ', en: 'INVESTMENT FRAUD' },
                icon: TrendingDown,
                content: {
                    bg: 'Доверете се на проверени, доказали се и известни компании и платформи за инвестиции. Не предоставяйте своите имена и телефон на сайтове и инвестиционни платформи, които привидно предлагат висока доходност. НЕ СЕ ДОВЕРЯВАЙТЕ НА МНИМИ ИНВЕСТИЦИОННИ ПОСРЕДНИЦИ, АКО НАСТОЯВАТ ДА ИМ ПРЕВЕДЕТЕ ПАРИ, БЕЗ ДА СТЕ  СЕ УВЕРИЛИ, ЧЕ СА ЛИЦЕНЗИРАНИ И ПРЕДИ ДА СТЕ ПОДПИСАЛИ ДОГОВОР ЗА ИНВЕСТИЦИОННИ УСЛУГИ. Преустановете комуникацията с лица, които постоянно искат да захранвате виртуалната си сметка. Не предоставяйте отдалечен достъп до своя компютър или телефон на непознати лица.',
                    en: 'Trust verified, proven, and well-known investment companies and platforms. Do not provide your names and phone number to websites and investment platforms that seemingly offer high returns. DO NOT TRUST FAKE INVESTMENT BROKERS IF THEY INSIST THAT YOU TRANSFER MONEY TO THEM WITHOUT HAVING VERIFIED THAT THEY ARE LICENSED AND BEFORE YOU HAVE SIGNED AN INVESTMENT SERVICES CONTRACT. Stop communication with people who constantly ask you to fund your virtual account. Do not provide remote access to your computer or phone to strangers.'
                },
                linkText: { bg: 'Вижте списъка с измамни платформи и сайтове тук', en: 'See the list of fraudulent platforms and websites here' },
                linkUrl: 'https://cybercrime.bg/investment-fraud.html'
            },
            {
                id: 'personal_data',
                title: { bg: 'ЛИЧНИ ДАННИ', en: 'PERSONAL DATA' },
                icon: ShieldAlert,
                content: {
                    bg: 'Не споделяйте лични данни, потребителски имена и пароли, данни от банкови карти или други платежни инструменти при онлайн комуникация, освен ако не сте изрично сигурни къде ги изпращате. Ограничете до минимум информацията, която споделяте за себе си онлайн.',
                    en: 'Do not share personal data, usernames and passwords, bank card details, or other payment instruments in online communication unless you are explicitly sure where you are sending them. Minimize the information you share about yourself online.'
                }
            },
            {
                id: 'piracy',
                title: { bg: 'БЕЗ ПИРАТСКИ СОФТУЕР', en: 'NO PIRATED SOFTWARE' },
                icon: Skull,
                content: {
                    bg: 'Използването на нелицензирани или кракнати програми почти винаги води рискове от заразяване на Вашето устройство с компютърен вирус. Потърсете безплатна или по-евтина алтернатива на програмата или услугата, която желаете да ползвате.',
                    en: 'Using unlicensed or cracked programs almost always carries risks of infecting your device with a computer virus. Look for a free or cheaper alternative to the program or service you want to use.'
                }
            },
            {
                id: 'antivirus',
                title: { bg: 'АНТИВИРУСНА ПРОГРАМА', en: 'ANTIVIRUS SOFTWARE' },
                icon: ShieldCheck,
                content: {
                    bg: 'Изберете съвременна и надеждна антивирусна програма за своите устройства, която редовно обновявайте. Заложете на световноизвестни и проверени решения. Сканирайте редовно своите устройства за киберзаплахи.',
                    en: 'Choose a modern and reliable antivirus program for your devices and update it regularly. Bet on world-famous and proven solutions. Regularly scan your devices for cyber threats.'
                }
            },
            {
                id: 'money',
                title: { bg: 'НАГЛЕЖДАЙТЕ ПАРИТЕ СИ', en: 'MONITOR YOUR MONEY' },
                icon: Eye,
                content: {
                    bg: 'Редовно следете движението по Вашите банкови сметки или други виртуални активи. Вземете незабавни мерки, ако установите неоторизиран превод като се свържете с Вашата банка или разплащателна услуга.',
                    en: 'Regularly monitor the movement in your bank accounts or other virtual assets. Take immediate action if you detect an unauthorized transfer by contacting your bank or payment service.'
                }
            },
            {
                id: 'updates',
                title: { bg: 'ОПЕРАЦИОННА СИСТЕМА И ПРОГРАМИ', en: 'OS & SOFTWARE UPDATES' },
                icon: RefreshCw,
                content: {
                    bg: 'Използвайте съвременна операционна система и програми, които редовно обновявайте. Остарелият софтуер по презумпция е по-лесна мишена за хакерите. Проверете настройките на своя компютър или телефон, за да ги обновите до последната версия.',
                    en: 'Use a modern operating system and programs that you update regularly. Outdated software is prone to be a target for hackers. Check your computer or phone settings to update them to the latest version.'
                }
            },
            {
                id: 'backup',
                title: { bg: 'АРХИВИРАНЕ', en: 'BACKUP' },
                icon: HardDrive,
                content: {
                    bg: 'Регулярно създавайте резервни копия на файлове, чието съдържание е от особена важност. Съхранявайте тези копия в офлайн среда. По този начин можете лесно да възстановите данните си, ако устройството Ви изчезне или стане жертва на рансъмуер.',
                    en: 'Regularly create backups of files whose content is of particular importance. Store these copies in an offline environment. This way you can easily recover your data if your device goes missing or falls victim to ransomware.'
                }
            },
            {
                id: '2fa',
                title: { bg: 'ДВУСТЕПЕННА ВЕРИФИКАЦИЯ/2FA', en: 'TWO-FACTOR AUTH / 2FA' },
                icon: Smartphone,
                content: {
                    bg: 'Включете опцията за двустепенна верификация, когато това е възможно. Това гарантира допълнителна сигурност за Вашия профил и възможност да си върнете контрола над него при евентуално компрометиране.',
                    en: 'Enable the two-factor verification option whenever possible. This guarantees additional security for your profile and the ability to regain control over it in case of compromise.'
                }
            },
            {
                id: 'netiquette',
                title: { bg: 'НЕТИКЕТ', en: 'NETIQUETTE' },
                icon: MessageCircle,
                content: {
                    bg: 'Комуникирайте учтиво и сдържано онлайн. Не обиждайте и не ругайте. Отнасяйте се с другите, както искате да се отнасят с Вас. Не споделяйте чужди лични данни или снимки, без изрично разрешение. Доверявайте се на надеждни източници на информация и не споделяйте лекомислено фалшиви или непроверени новини.',
                    en: 'Communicate politely and with restraint online. Do not insult or swear. Treat others as you would like to be treated. Do not share other people\'s personal data or photos without explicit permission. Trust reliable sources of information and do not share fake or unverified news lightly.'
                }
            },
            {
                id: 'examination',
                title: { bg: 'ПРЕГЛЕД И ТЕСТ', en: 'REVIEW AND TEST' },
                icon: CheckCircle,
                content: {
                    bg: 'Използвайте опцията за преглед и тест, както и плащане при получаване, когато това е възможно. По този начин намалявате възможността да получите нещо, което не сте поръчали или не отговаря на Вашите потребителски изисквания. Избирайте известни и доказани онлайн магазини и платформи за вашите поръчки. НИКОГА НЕ ЗАПЛАЩАЙТЕ ЗА СТОКА ИЛИ УСЛУГА ПРЕДИ НЕЙНОТО ПОЛУЧАВАНЕ НА НЕПОЗНАТО ЛИЦЕ ИЛИ НА ТЪРГОВЕЦ С НЕДОКАЗАНА РЕПУТАЦИЯ.',
                    en: 'Use the preview and test option, as well as cash on delivery payment, when possible. This way you reduce the possibility of receiving something you didn\'t order or that doesn\'t meet your consumer requirements. Choose well-known and proven online stores and platforms for your orders. NEVER PAY FOR GOODS OR SERVICES BEFORE RECEIVING THEM TO AN UNKNOWN PERSON OR TO A MERCHANT WITH AN UNPROVEN REPUTATION.'
                }
            }
        ];


        const CRIME_TYPES_DATA = [
            {
                id: 'bec',
                title: { bg: 'ПОДМЕНЕНА БАНКОВА СМЕТКА', en: 'BEC FRAUD' },
                subtitle: { bg: 'Business Email Compromise', en: 'Business Email Compromise' },
                desc: {
                    bg: 'Финансови измами, при които киберпрестъпници компрометират легитимни бизнес имейл акаунти, за да БЪДАТ ИЗВЪРШЕНИ трансфери на средства КЪМ ПОДМЕНЕНИ БАНКОВИ сметки.  Те често използват социално инженерство, за да заблудят служителите да извършат плащания към сметки, КОНТРОЛИРАНИ ОТ ИЗМАМНИЦИТЕ, представяйки се за СЛУЖИТЕЛИ НА ФИРМАТА, КЪМ КОЯТО СЕ НАРЕЖДА ПЛАЩАНЕТО. Този вид измама може да доведе до огромни финансови загуби за компаниите и да наруши доверието между бизнес партньорите, изисквайки бърза реакция и сътрудничество с правоприлагащите органи.',
                    en: 'Financial fraud in which cybercriminals compromise legitimate business email accounts in order TO EXECUTE fund transfers TO SUBSTITUTED BANK accounts. They often use social engineering to trick employees into making payments to accounts CONTROLLED BY THE FRAUDSTERS, posing as EMPLOYEES OF THE COMPANY TO WHICH THE PAYMENT IS BEING ORDERED. This type of fraud can lead to enormous financial losses for companies and undermine trust between business partners, requiring swift response and cooperation with law enforcement authorities.'
                },
                icon: Briefcase,
                color: 'from-blue-600 to-indigo-900',
                img: 'https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'investment_fraud',
                title: { bg: 'ИНВЕСТИЦИОННИ', en: 'INVESTMENT' },
                subtitle: { bg: 'Финансови измами', en: 'Investment Fraud' },
                desc: {
                    bg: 'Измамни схеми, обещаващи нереалистично високи и бързи печалби чрез фалшиви инвестиционни платформи, пирамидални схеми или измамни брокерски услуги. Престъпниците създават професионално изглеждащи уебсайтове и използват фалшиви препоръки, за да убедят жертвите да инвестират средства, които след това изчезват. Често използват тактики на социално инженерство и психологически натиск, като обещават гарантирани печалби от акции, форекс, криптовалути или други инвестиционни инструменти. Жертвите често осъзнават измамата едва когато се опитат да изтеглят средствата си. СЪГЛАСНО БЪЛГАРСКОТО ЗАКОНОДАТЕЛСТВО ВСИЧКИ ЛИЦЕНЗИРАНИ БЪЛГАРСКИ И ЧУЖДЕСТРАННИ ИНВЕСТИЦИОННИ ПОСРЕДНИЦИ И ТЕХНИТЕ ПЛАТФОРМИ СА ПОСОЧЕНИ НА СТРАНИЦАТА НА КОМИСИЯТА ЗА ФИНАНСОВ НАДЗОР (КФН) <a href="https://www.fsc.bg/investitsionna-deynost/spisatsi-podnadzorni-litsa/investitsionni-posrednitsi/" target="_blank" rel="noopener noreferrer" class="text-gdbop-blue hover:underline">https://www.fsc.bg/investitsionna-deynost/spisatsi-podnadzorni-litsa/investitsionni-posrednitsi/</a> ПРЕДИ ИЗВЪРШВАНЕ НА ПЛАЩАНЕ ЗАДЪЛЖИТЕЛНО СЕ СКЛЮЧВА ДОГОВОР С ИНВЕСТИЦИОННИЯ ПОСРЕДНИК. ПЛАЩАНИЯ КЪМ ЛИЦЕНЗИРАНИ ПОСРЕДНИЦИ СЕ ИЗВЪРШВАТ В ТЕХНИ ОФИСИ НА КАСА ДО 10 000 ЛВ. ИЛИ ПО БАНКОВ ПЪТ, КАКТО И ОНЛАЙН. ДОПЪЛНИТЕЛНА ИНФОРМАЦИЯ Е НАЛИЧНА НА СТРАНИЦАТА НА КФН. <a href="https://www.fsc.bg/za-potrebitelya/investiczionna-dejnost/razpoznay-litsenziraniya-investitsionen-posrednik/" target="_blank" rel="noopener noreferrer" class="text-gdbop-blue hover:underline">https://www.fsc.bg/za-potrebitelya/investiczionna-dejnost/razpoznay-litsenziraniya-investitsionen-posrednik/</a>',
                    en: 'Fraudulent schemes promising unrealistically high and quick profits through fake investment platforms, pyramid schemes, or fraudulent brokerage services. Criminals create professional-looking websites and use fake testimonials to convince victims to invest funds, which then disappear. They often use social engineering tactics and psychological pressure, promising guaranteed profits from stocks, forex, cryptocurrencies, or other investment instruments. Victims often only realize the fraud when they try to withdraw their funds. ACCORDING TO BULGARIAN LAW, ALL LICENSED BULGARIAN AND FOREIGN INVESTMENT INTERMEDIARIES AND THEIR PLATFORMS ARE LISTED ON THE WEBSITE OF THE FINANCIAL SUPERVISION COMMISSION (FSC) <a href="https://www.fsc.bg/investitsionna-deynost/spisatsi-podnadzorni-litsa/investitsionni-posrednitsi/" target="_blank" rel="noopener noreferrer" class="text-gdbop-blue hover:underline">https://www.fsc.bg/investitsionna-deynost/spisatsi-podnadzorni-litsa/investitsionni-posrednitsi/</a> BEFORE MAKING A PAYMENT, A CONTRACT WITH THE INVESTMENT INTERMEDIARY MUST BE CONCLUDED. PAYMENTS TO LICENSED INTERMEDIARIES ARE MADE IN THEIR OFFICES AT THE CASH DESK UP TO 10,000 BGN OR VIA BANK TRANSFER, AS WELL AS ONLINE. ADDITIONAL INFORMATION IS AVAILABLE ON THE FSC WEBSITE. <a href="https://www.fsc.bg/za-potrebitelya/investiczionna-dejnost/razpoznay-litsenziraniya-investitsionen-posrednik/" target="_blank" rel="noopener noreferrer" class="text-gdbop-blue hover:underline">https://www.fsc.bg/za-potrebitelya/investiczionna-dejnost/razpoznay-litsenziraniya-investitsionen-posrednik/</a>'
                },
                icon: TrendingDown,
                color: 'from-red-600 to-rose-900',
                img: 'https://images.unsplash.com/photo-1535320903710-d9cf5b348281?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'romance',
                title: { bg: 'РОМАНТИЧНИ', en: 'ROMANCE' },
                subtitle: { bg: 'Романтични измами', en: 'Romance Scams' },
                desc: {
                    bg: 'Емоционални измами, при които престъпниците създават фалшиви профили в сайтове за запознанства или социални мрежи и изграждат романтични връзки с жертвите с цел финансова облага. След установяване на доверие, измамниците изфабрикуват спешни ситуации като медицински проблеми, виза проблеми или бизнес затруднения, за да помолят за пари. Често твърдят, че са военни на мисия, инженери в чужбина или успешни бизнесмени. Жертвите губят не само пари, но и емоционална стабилност, като някои продължават да изпращат средства дори след разкриване на измамата поради психологическата манипулация.',
                    en: 'Emotional fraud where criminals create fake profiles on dating sites or social media and build romantic relationships with victims for financial gain. After establishing trust, scammers fabricate urgent situations such as medical emergencies, visa problems, or business difficulties to request money. They often claim to be military personnel on deployment, engineers abroad, or successful businesspeople. Victims lose not only money but also emotional stability, with some continuing to send funds even after the scam is exposed due to psychological manipulation.'
                },
                icon: Heart,
                color: 'from-pink-600 to-fuchsia-900',
                img: 'https://images.unsplash.com/photo-1518674660708-0e2c0473e68e?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'children',
                title: { bg: 'ПРЕСТЪПЛЕНИЯ СРЕЩУ ДЕЦА', en: 'CHILDREN' },
                subtitle: { bg: 'Детска порнография', en: 'Crimes Against Children' },
                desc: {
                    bg: 'Тежки престъпления, включващи производство, притежание, разпространение и търговия с материали със сексуално насилие над деца, както и онлайн тормоз, грууминг и сексуална експлоатация на малолетни. Престъпниците използват интернет платформи, криптирани чат приложения и dark web за обмен на незаконно съдържание и за контакт с потенциални жертви. Тези престъпления причиняват трайни психологически травми на децата-жертви и са приоритет за правоприлагащите органи по целия свят. Сътрудничеството между международните агенции е от критично значение за идентифициране и спасяване на жертвите.',
                    en: 'Serious crimes involving the production, possession, distribution, and trade of child sexual abuse material, as well as online harassment, grooming, and sexual exploitation of minors. Criminals use internet platforms, encrypted chat applications, and the dark web to exchange illegal content and contact potential victims. These crimes cause lasting psychological trauma to child victims and are a priority for law enforcement agencies worldwide. Cooperation between international agencies is critical for identifying and rescuing victims.'
                },
                icon: Users,
                color: 'from-orange-600 to-amber-900',
                img: 'https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'ipr',
                title: { bg: 'АВТОРСКИ ПРАВА', en: 'COPYRIGHT' },
                subtitle: { bg: 'Интелектуална собственост', en: 'IPR & Counterfeit' },
                desc: {
                    bg: 'Нарушаване на авторски и сродни права чрез незаконно разпространение на пиратско цифрово съдържание (филми, музика, софтуер, електронни книги), производство и продажба на фалшиви стоки, включително лукс марки, лекарства и електроника. Киберпрестъпниците използват торент сайтове, стрийминг платформи и онлайн магазини за разпространение на нарушаващо съдържание. Това не само вреди на творците и бранд собствениците финансово, но в случая с фалшиви лекарства и медицински изделия създава сериозни рискове за общественото здраве. Глобализацията на електронната търговия улеснява трансграничната търговия с фалшиви стоки.',
                    en: 'Infringement of copyright and related rights through illegal distribution of pirated digital content (movies, music, software, e-books), production and sale of counterfeit goods including luxury brands, pharmaceuticals, and electronics. Cybercriminals use torrent sites, streaming platforms, and online stores to distribute infringing content. This not only harms creators and brand owners financially, but in the case of fake medicines and medical devices, creates serious public health risks. The globalization of e-commerce facilitates cross-border trade in counterfeit goods.'
                },
                icon: FileBadge,
                color: 'from-purple-600 to-violet-900',
                img: 'https://images.unsplash.com/photo-1589829085413-56de8ae18c73?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'crypto',
                title: { bg: 'КРИПТОВАЛУТИ', en: 'CRYPTO' },
                subtitle: { bg: 'Крипто престъпления', en: 'Cryptocurrency Crimes' },
                desc: {
                    bg: 'Престъпления, свързани с кражба на криптовалути чрез хакване на криптоборси, измамни ICO (първични предлагания на монети), фишинг атаки срещу криптопортфейли и злоупотреба с криптовалути за пране на пари от други престъпни дейности. Престъпниците експлоатират анонимността и трансграничния характер на криптовалутните транзакции. Включва също така измами с инвестиции в криптовалути, "rug pulls" при DeFi проекти и използване на криптовалути за заплащане при рансъмуер атаки. Проследяването на криптовалутни транзакции изисква специализирани аналитични инструменти и експертиза.',
                    en: 'Crimes related to cryptocurrency theft through hacking crypto exchanges, fraudulent ICOs (Initial Coin Offerings), phishing attacks against crypto wallets, and abuse of cryptocurrencies for money laundering from other criminal activities. Criminals exploit the anonymity and cross-border nature of cryptocurrency transactions. Also includes cryptocurrency investment scams, "rug pulls" in DeFi projects, and use of cryptocurrencies for payment in ransomware attacks. Tracking cryptocurrency transactions requires specialized analytical tools and expertise.'
                },
                icon: Coins,
                color: 'from-yellow-500 to-amber-800',
                img: 'https://images.unsplash.com/photo-1518546305927-5a555bb7020d?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'phishing',
                title: { bg: 'ФИШИНГ', en: 'PHISHING' },
                subtitle: { bg: 'Кражба на данни', en: 'Phishing' },
                desc: {
                    bg: 'Опити за кражба на чувствителна информация като пароли, данни за кредитни карти, лични данни и банкови сметки чрез фалшиви имейли, SMS съобщения (smishing), телефонни обаждания (vishing) и поддръжни уебсайтове, които имитират легитимни организации. Киберпрестъпниците създават убедителни копия на известни марки, банки и правителствени институции, за да заблудят потребителите. Често използват тактики на спешност и страх, като твърдения за компрометирани акаунти или спечелени награди. Spear phishing атаките са персонализирани и насочени към конкретни индивиди или организации.',
                    en: 'Attempts to steal sensitive information such as passwords, credit card data, personal information, and bank accounts through fake emails, SMS messages (smishing), phone calls (vishing), and spoofed websites that impersonate legitimate organizations. Cybercriminals create convincing replicas of well-known brands, banks, and government institutions to deceive users. They often use urgency and fear tactics, such as claims of compromised accounts or won prizes. Spear phishing attacks are personalized and targeted at specific individuals or organizations.'
                },
                icon: MailWarning,
                color: 'from-emerald-600 to-teal-900',
                img: 'https://images.unsplash.com/photo-1563013544-824ae1b704d3?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'ransomware',
                title: { bg: 'РАНСЪМУЕР', en: 'RANSOMWARE' },
                subtitle: { bg: 'Изнудване', en: 'Ransomware' },
                desc: {
                    bg: 'Вид зловреден софтуер, който криптира данните на жертвата и блокира достъпа до критични системи и файлове, след което иска откуп (обикновено в криптовалута) за декриптиране и възстановяване. Модерните рансъмуер атаки често включват "двойно изнудване" - освен криптиране, престъпниците заплашват да публикуват откраднатите данни. Атаките обикновено се разпространяват чрез фишинг имейли, експлоатация на уязвимости или компрометирани услуги за отдалечен достъп. Рансъмуерът засяга болници, училища, правителствени институции и бизнеси, причинявайки значителни финансови и оперативни щети.',
                    en: 'A type of malicious software that encrypts the victim\'s data and blocks access to critical systems and files, then demands a ransom (usually in cryptocurrency) for decryption and recovery. Modern ransomware attacks often involve "double extortion" - in addition to encryption, criminals threaten to publish stolen data. Attacks are typically spread through phishing emails, exploitation of vulnerabilities, or compromised remote access services. Ransomware affects hospitals, schools, government institutions, and businesses, causing significant financial and operational damage.'
                },
                icon: FolderLock,
                color: 'from-red-700 to-red-950',
                img: 'https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'access',
                title: { bg: 'НЕЗАКОНЕН ДОСТЪП', en: 'UNAUTH ACCESS' },
                subtitle: { bg: 'Хакерски атаки', en: 'Unauthorized Access' },
                desc: {
                    bg: 'Нерегламентиран достъп до компютърни системи, мрежи и бази данни чрез експлоатация на уязвимости, използване на откраднати идентификационни данни или социално инженерство. Хакерите проникват в корпоративни мрежи, правителствени системи и лични устройства с цел кражба на чувствителна информация, търговски тайни, интелектуална собственост или лични данни. След получаване на достъп, престъпниците често установяват backdoors за бъдещ достъп, инсталират кейлогъри и извличат данни за дълъг период, преди да бъдат открити. Включва също кибершпионаж и индустриален шпионаж.',
                    en: 'Unauthorized access to computer systems, networks, and databases through exploitation of vulnerabilities, use of stolen credentials, or social engineering. Hackers penetrate corporate networks, government systems, and personal devices to steal sensitive information, trade secrets, intellectual property, or personal data. After gaining access, criminals often establish backdoors for future access, install keyloggers, and exfiltrate data over extended periods before being detected. Also includes cyber espionage and industrial espionage.'
                },
                icon: Fingerprint,
                color: 'from-cyan-600 to-blue-900',
                img: 'https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'ddos',
                title: { bg: 'DDoS АТАКИ', en: 'DDoS' },
                subtitle: { bg: 'Отказ на услуга', en: 'Denial of Service' },
                desc: {
                    bg: 'Разпределени атаки за отказ на услуга, които целят спиране или сериозно забавяне на достъпа до онлайн услуги, уебсайтове и мрежи чрез претоварване с огромен обем трафик от множество компрометирани устройства (ботнет). Престъпниците използват армии от заразени компютри, IoT устройства и сървъри за едновременно изпращане на заявки към целевата система. DDoS атаките се използват за изнудване, конкурентно саботиране, политически мотивирани акции или като отвличане на вниманието по време на други кибератаки. Могат да причинят значителни финансови загуби и репутационни щети.',
                    en: 'Distributed Denial of Service attacks aimed at stopping or severely slowing access to online services, websites, and networks by overwhelming them with massive volumes of traffic from multiple compromised devices (botnet). Criminals use armies of infected computers, IoT devices, and servers to simultaneously send requests to the target system. DDoS attacks are used for extortion, competitive sabotage, politically motivated actions, or as a distraction during other cyberattacks. They can cause significant financial losses and reputational damage.'
                },
                icon: ServerOff,
                color: 'from-gray-600 to-slate-900',
                img: 'https://images.unsplash.com/photo-1558494949-efbdb6b05811?auto=format&fit=crop&q=80&w=1000'
            },
            {
                id: 'malware',
                title: { bg: 'КОМПЮТЪРНИ ВИРУСИ', en: 'MALWARE' },
                subtitle: { bg: 'Зловреден код', en: 'Malware' },
                desc: {
                    bg: 'Разпространение и използване на вируси, троянски коне, червеи, шпионски софтуер, адуер и друг зловреден код, предназначени да навредят, експлоатират или получат неразрешен достъп до компютърни системи. Зловредният софтуер може да краде данни, унищожава файлове, следи потребителската активност, установява backdoors или превръща устройствата в част от ботнет. Разпространява се чрез заразени имейл прикачени файлове, компрометирани уебсайтове, злонамерена реклама, фалшив софтуер и експлоатация на системни уязвимости. Антивирусните решения и редовните актуализации са ключови за защита.',
                    en: 'Distribution and use of viruses, trojans, worms, spyware, adware, and other malicious code designed to harm, exploit, or gain unauthorized access to computer systems. Malware can steal data, destroy files, monitor user activity, establish backdoors, or turn devices into part of a botnet. It spreads through infected email attachments, compromised websites, malicious advertising, fake software, and exploitation of system vulnerabilities. Antivirus solutions and regular updates are key to protection.'
                },
                icon: Bug,
                color: 'from-lime-600 to-green-900',
                img: 'https://images.unsplash.com/photo-1616198814651-e71f960c3180?auto=format&fit=crop&q=80&w=1000'
            }
        ];

        // --- COMPONENTS ---

        // Back to Top Button Component
        const BackToTop = () => {
            const [isVisible, setIsVisible] = useState(false);

            useEffect(() => {
                const toggleVisibility = () => {
                    if (window.pageYOffset > 300) {
                        setIsVisible(true);
                    } else {
                        setIsVisible(false);
                    }
                };

                window.addEventListener('scroll', toggleVisibility);

                return () => window.removeEventListener('scroll', toggleVisibility);
            }, []);

            const scrollToTop = () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            };

            return (
                <button
                    onClick={scrollToTop}
                    className={`fixed bottom-8 right-8 z-50 p-4 bg-gdbop-blue text-white rounded-full shadow-[0_0_15px_rgba(71,168,246,0.5)] border border-white/20 transition-all duration-300 hover:scale-110 hover:bg-blue-600 focus:outline-none group ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'
                        }`}
                    aria-label="Back to top"
                >
                    <ArrowUp className="w-6 h-6 group-hover:-translate-y-1 transition-transform" />
                </button>
            );
        };


        // Navbar Component
        const Navbar = ({ lang, setLang }) => {
            const t = TRANSLATIONS[lang];
            const [isScrolled, setIsScrolled] = useState(false);
            const [isMenuOpen, setIsMenuOpen] = useState(false);

            useEffect(() => {
                const handleScroll = () => {
                    setIsScrolled(window.scrollY > 50);
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const scrollToSection = (id) => {
                const element = document.getElementById(id);
                if (element) {
                    const offset = 80;
                    const bodyRect = document.body.getBoundingClientRect().top;
                    const elementRect = element.getBoundingClientRect().top;
                    const elementPosition = elementRect - bodyRect;
                    const offsetPosition = elementPosition - offset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                    setIsMenuOpen(false);
                }
            };

            const navItems = [
                { id: 'home', label: t.home, icon: ShieldCheck },
                { id: 'tips', label: t.tips, icon: Lock },
                { id: 'video-feed', label: t.video, icon: Video },
                { id: 'blog-feed', label: t.blog, icon: Facebook },
                { id: 'threat-feed', label: t.threats, icon: Siren },
                { id: 'phishing-feed', label: t.phishingNav, icon: ShieldAlert },
                { id: 'investment-fraud.html', label: t.investment, icon: TrendingUp, isLink: true },
                { id: 'contacts', label: t.contacts, icon: MapPin },
            ];

            return (
                <nav className={`fixed top-0 left-0 w-full z-40 transition-all duration-300 ${isScrolled ? 'bg-slate-900/90 backdrop-blur-md shadow-lg border-b border-gdbop-blue/20' : 'bg-transparent'}`}>
                    <div className="container mx-auto px-4 py-4 flex items-center justify-between">
                        <div className="flex items-center gap-2 cursor-pointer" onClick={() => scrollToSection('home')}>
                            <ShieldCheck className="text-gdbop-blue" size={28} />
                            <span className="font-bold text-white tracking-wider hidden md:block">CYBERCRIME.BG</span>
                        </div>

                        {/* Desktop Menu */}
                        <div className="hidden md:flex items-center gap-1">
                            {navItems.map((item) => (
                                item.isLink ? (
                                    <a
                                        key={item.id}
                                        href={item.id}
                                        className="px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-white/10 rounded-full transition-all flex items-center gap-2 group"
                                    >
                                        <item.icon size={16} className="text-police-red group-hover:scale-110 transition-transform" />
                                        {item.label}
                                    </a>
                                ) : (
                                    <button
                                        key={item.id}
                                        onClick={() => scrollToSection(item.id)}
                                        className="px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-white/10 rounded-full transition-all flex items-center gap-2 group"
                                    >
                                        <item.icon size={16} className="text-gdbop-blue group-hover:scale-110 transition-transform" />
                                        {item.label}
                                    </button>
                                )
                            ))}

                            {/* Language Toggle in Navbar */}
                            <button
                                onClick={() => setLang(lang === 'bg' ? 'en' : 'bg')}
                                className="ml-4 flex items-center gap-2 px-3 py-1.5 bg-slate-800 border border-slate-700/50 rounded-full text-gdbop-blue hover:bg-gdbop-blue hover:text-white hover:border-white transition-all duration-300 group"
                            >
                                <Globe size={16} className="group-hover:rotate-180 transition-transform duration-500" />
                                <span className="font-bold font-mono text-xs uppercase tracking-wider">{lang === 'bg' ? 'EN' : 'BG'}</span>
                            </button>
                        </div>

                        {/* Mobile Menu Button */}
                        <div className="md:hidden flex items-center gap-4">
                            {/* Mobile Language Toggle */}
                            <button
                                onClick={() => setLang(lang === 'bg' ? 'en' : 'bg')}
                                className="flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 border border-slate-700/50 rounded-full text-gdbop-blue hover:bg-gdbop-blue hover:text-white transition-all text-xs font-bold font-mono"
                            >
                                <Globe size={16} />
                                {lang === 'bg' ? 'EN' : 'BG'}
                            </button>

                            <button
                                onClick={() => setIsMenuOpen(!isMenuOpen)}
                                className="text-white p-2"
                            >
                                {isMenuOpen ? <TrendingDown className="rotate-45" size={24} /> : <TrendingDown size={24} />}
                            </button>
                        </div>
                    </div>

                    {/* Mobile Menu Dropdown */}
                    {isMenuOpen && (
                        <div className="md:hidden absolute top-full left-0 w-full bg-slate-900/95 backdrop-blur-xl border-t border-slate-800 p-4 flex flex-col gap-2 shadow-2xl">
                            {navItems.map((item) => (
                                item.isLink ? (
                                    <a
                                        key={item.id}
                                        href={item.id}
                                        className="p-4 text-left font-medium text-slate-300 hover:text-white hover:bg-white/10 rounded-lg transition-all flex items-center gap-3"
                                    >
                                        <item.icon size={20} className="text-police-red" />
                                        {item.label}
                                    </a>
                                ) : (
                                    <button
                                        key={item.id}
                                        onClick={() => scrollToSection(item.id)}
                                        className="p-4 text-left font-medium text-slate-300 hover:text-white hover:bg-white/10 rounded-lg transition-all flex items-center gap-3"
                                    >
                                        <item.icon size={20} className="text-gdbop-blue" />
                                        {item.label}
                                    </button>
                                )
                            ))}
                        </div>
                    )}
                </nav>
            );
        };

        // Blog Section Component (Facebook)
        const BlogSection = ({ lang }) => {
            const t = TRANSLATIONS[lang];
            const [isLoaded, setIsLoaded] = useState(false);

            return (
                <section id="blog-feed" className="container mx-auto px-4 py-16 relative z-10">
                    <div className="max-w-4xl mx-auto">
                        <div className="flex items-center gap-3 mb-12 justify-center">
                            <Facebook className="text-gdbop-blue animate-pulse" size={32} />
                            <h3 className="text-3xl md:text-4xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-gdbop-blue to-white uppercase tracking-wider">
                                {t.blogTitle}
                            </h3>
                            <div className="h-1 flex-grow max-w-[100px] bg-gradient-to-r from-gdbop-blue to-transparent rounded-full"></div>
                        </div>

                        <div className="relative group">
                            {/* Cyberpunk Frame Container */}
                            <div className="absolute -inset-1 bg-gradient-to-r from-gdbop-blue via-police-blue to-gdbop-blue rounded-xl opacity-75 blur-sm group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"></div>

                            <div className="relative glass-panel p-2 rounded-xl border border-gdbop-blue/50 shadow-[0_0_50px_rgba(71,168,246,0.15)] ring-1 ring-white/10">
                                {/* Corner Accents */}
                                <div className="absolute top-12 left-0 md:top-4 md:left-4 w-8 h-8 border-t-2 border-l-2 border-gdbop-blue/50 rounded-tl-lg pointer-events-none"></div>
                                <div className="absolute top-12 right-0 md:top-4 md:right-4 w-8 h-8 border-t-2 border-r-2 border-gdbop-blue/50 rounded-tr-lg pointer-events-none"></div>
                                <div className="absolute bottom-12 left-0 md:bottom-4 md:left-4 w-8 h-8 border-b-2 border-l-2 border-gdbop-blue/50 rounded-bl-lg pointer-events-none"></div>
                                <div className="absolute bottom-12 right-0 md:bottom-4 md:right-4 w-8 h-8 border-b-2 border-r-2 border-gdbop-blue/50 rounded-br-lg pointer-events-none"></div>

                                {/* Scanner Line Effect */}
                                <div className="absolute inset-0 pointer-events-none overflow-hidden rounded-xl">
                                    <div className="absolute w-full h-[2px] bg-gdbop-blue/30 top-0 animate-scan"></div>
                                </div>

                                <div className="flex justify-center bg-slate-900 rounded-lg overflow-hidden">
                                    {/* Skeleton Loading State */}
                                    {!isLoaded && (
                                        <div className="absolute inset-0 flex items-center justify-center bg-slate-900 z-10">
                                            <div className="flex flex-col items-center gap-4">
                                                <div className="w-12 h-12 border-4 border-gdbop-blue border-t-transparent rounded-full animate-spin"></div>
                                                <span className="text-gdbop-blue font-mono animate-pulse">LOADING FEED DATA...</span>
                                            </div>
                                        </div>
                                    )}

                                    <iframe
                                        src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fwww.cybercrime.bg&tabs=timeline&width=500&height=800&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId"
                                        width="500"
                                        height="800"
                                        style={{ border: 'none', overflow: 'hidden' }}
                                        scrolling="no"
                                        frameBorder="0"
                                        allowFullScreen={true}
                                        allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
                                        onLoad={() => setIsLoaded(true)}
                                        className="max-w-full"
                                    ></iframe>
                                </div>
                            </div>

                            {/* Decorative Tech Elements */}
                            <div className="absolute -right-12 top-1/2 -translate-y-1/2 hidden md:flex flex-col gap-2 opacity-50">
                                {[...Array(5)].map((_, i) => (
                                    <div key={i} className="w-2 h-2 bg-gdbop-blue rounded-full"></div>
                                ))}
                            </div>
                            <div className="absolute -left-12 top-1/2 -translate-y-1/2 hidden md:flex flex-col gap-2 opacity-50">
                                {[...Array(5)].map((_, i) => (
                                    <div key={i} className="w-2 h-2 bg-gdbop-blue rounded-full"></div>
                                ))}
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        // Threat Feed Component
        const ThreatFeed = ({ lang }) => {
            const t = TRANSLATIONS[lang];
            const [threats, setThreats] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(false);

            useEffect(() => {
                const fetchThreats = async () => {
                    try {
                        const response = await fetch('data/urlhaus-data.json');
                        if (!response.ok) throw new Error('Network response was not ok');
                        const data = await response.json();

                        if (data && data.urls) {
                            setThreats(data.urls);
                        } else {
                            throw new Error('Invalid data format');
                        }
                    } catch (err) {
                        console.error("Failed to fetch threat feed, using fallback data", err);
                        setError(true);
                        // Fallback mock data
                        setThreats([
                            { id: 1, url: 'http://malicious-bank-login.com/secure', date_added: new Date().toISOString(), url_status: 'online', reporter: 'abuse_ch' },
                            { id: 2, url: 'http://fake-investment-platform.net/ref=123', date_added: new Date().toISOString(), url_status: 'online', reporter: 'CyberCleaner' },
                            { id: 3, url: 'https://update-windows-security-critical.xyz', date_added: new Date().toISOString(), url_status: 'offline', reporter: 'MalwareHunter' },
                            { id: 4, url: 'http://free-crypto-giveaway.org/claim', date_added: new Date(Date.now() - 3600000).toISOString(), url_status: 'online', reporter: 'PhishTank' },
                            { id: 5, url: 'https://secure-paypal-verify-v2.info', date_added: new Date(Date.now() - 7200000).toISOString(), url_status: 'online', reporter: 'Google' },
                        ]);
                    } finally {
                        setLoading(false);
                    }
                };

                fetchThreats();
            }, []);

            const formatDate = (dateString) => {
                try {
                    // Handle "YYYY-MM-DD HH:MM:SS UTC" format
                    if (dateString.includes('UTC')) {
                        const isoDate = dateString.replace(' ', 'T').replace(' UTC', 'Z');
                        return new Date(isoDate).toLocaleDateString();
                    }
                    return new Date(dateString).toLocaleDateString();
                } catch (e) {
                    return 'Invalid Date';
                }
            };

            return (
                <section id="threat-feed" className="container mx-auto px-4 py-16 z-10 relative">
                    <div className="flex items-center justify-center mb-12 gap-4">
                        <ShieldAlert className="text-police-red animate-pulse" size={32} />
                        <h3 className="text-2xl md:text-3xl font-bold text-white text-center border-b-2 border-gdbop-blue pb-2 uppercase">
                            {t.threatFeedTitle}
                        </h3>
                        <ShieldAlert className="text-police-blue animate-pulse" size={32} />
                    </div>

                    <div className="glass-panel bg-slate-900/80 backdrop-blur-md rounded-xl border border-red-500/20 overflow-hidden shadow-[0_0_30px_rgba(220,38,38,0.1)]">
                        <div className="p-4 bg-red-900/20 border-b border-red-500/20 flex items-center justify-between">
                            <div className="flex items-center gap-2 text-red-400">
                                <span className="relative flex h-3 w-3">
                                    <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                                    <span className="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
                                </span>
                                <span className="font-mono text-sm tracking-widest">{t.live}</span>
                            </div>
                            <div className="text-xs text-slate-400 font-mono">
                                SOURCE: URLhaus (abuse.ch)
                            </div>
                        </div>

                        <div className="overflow-x-auto">
                            <table className="w-full text-left text-sm text-slate-300">
                                <thead className="bg-slate-950/50 text-slate-400 font-mono uppercase text-xs">
                                    <tr>
                                        <th className="p-4">{t.date}</th>
                                        <th className="p-4">{t.malware}</th>
                                        <th className="p-4">{t.status}</th>
                                        <th className="p-4 hidden md:table-cell">{t.source}</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-slate-800 font-mono">
                                    {loading ? (
                                        <tr>
                                            <td colSpan="4" className="p-8 text-center text-gdbop-blue animate-pulse">
                                                {t.loading}
                                            </td>
                                        </tr>
                                    ) : (
                                        threats.map((threat, idx) => (
                                            <tr key={idx} className="hover:bg-red-500/5 transition-colors">
                                                <td className="p-4 whitespace-nowrap text-slate-500">
                                                    {formatDate(threat.date_added)}
                                                </td>
                                                <td className="p-4 max-w-xs md:max-w-md truncate text-red-300">
                                                    {threat.url}
                                                </td>
                                                <td className="p-4">
                                                    <span className={`px-2 py-1 rounded text-xs font-bold ${threat.url_status === 'online'
                                                        ? 'bg-red-500/20 text-red-500 border border-red-500/20'
                                                        : 'bg-slate-700 text-slate-400'
                                                        }`}>
                                                        {threat.url_status === 'online' ? t.online : t.offline}
                                                    </span>
                                                </td>
                                                <td className="p-4 hidden md:table-cell text-slate-500">
                                                    {threat.reporter}
                                                </td>
                                            </tr>
                                        ))
                                    )}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            );
        };

        // Phishing Feed Component
        const PhishingFeed = ({ lang }) => {
            const t = TRANSLATIONS[lang];
            const [feedData, setFeedData] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(false);
            const [currentPage, setCurrentPage] = useState(1);
            const itemsPerPage = 10;

            useEffect(() => {
                const fetchPhishingData = async () => {
                    try {
                        const response = await fetch('https://raw.githubusercontent.com/georgi-i/detectopod/main/feed/phishing_feed.json');
                        if (!response.ok) throw new Error('Network response was not ok');
                        const data = await response.json();
                        setFeedData(data);
                    } catch (err) {
                        console.error("Failed to fetch phishing feed", err);
                        setError(true);
                    } finally {
                        setLoading(false);
                    }
                };

                fetchPhishingData();
            }, []);

            const formatDate = (dateString) => {
                try {
                    return new Date(dateString).toLocaleDateString();
                } catch (e) {
                    return 'Invalid Date';
                }
            };

            // Pagination Logic
            const indexOfLastItem = currentPage * itemsPerPage;
            const indexOfFirstItem = indexOfLastItem - itemsPerPage;
            const currentItems = feedData.slice(indexOfFirstItem, indexOfLastItem);
            const totalPages = Math.ceil(feedData.length / itemsPerPage);

            const paginate = (pageNumber) => setCurrentPage(pageNumber);

            return (
                <section id="phishing-feed" className="container mx-auto px-4 py-16 z-10 relative">
                    <div className="flex items-center justify-center mb-12 gap-4">
                        <ShieldAlert className="text-police-red animate-pulse" size={32} />
                        <h3 className="text-2xl md:text-3xl font-bold text-white text-center border-b-2 border-gdbop-blue pb-2 uppercase">
                            {t.phishingTitle}
                        </h3>
                        <ShieldAlert className="text-police-blue animate-pulse" size={32} />
                    </div>

                    <div className="glass-panel bg-slate-900/80 backdrop-blur-md rounded-xl border border-gdbop-blue/20 overflow-hidden shadow-[0_0_30px_rgba(71,168,246,0.1)]">
                        <div className="p-4 bg-gdbop-blue/10 border-b border-gdbop-blue/20 flex items-center justify-between">
                            <div className="flex items-center gap-2 text-gdbop-blue">
                                <span className="relative flex h-3 w-3">
                                    <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-gdbop-blue opacity-75"></span>
                                    <span className="relative inline-flex rounded-full h-3 w-3 bg-blue-500"></span>
                                </span>
                                <span className="font-mono text-sm tracking-widest">{t.live}</span>
                            </div>
                            <div className="text-xs text-slate-400 font-mono">
                                {t.source}: detectopod (github.com/georgi-i)
                            </div>
                        </div>

                        <div className="overflow-x-auto">
                            <table className="w-full text-left text-sm text-slate-300">
                                <thead className="bg-slate-950/50 text-slate-400 font-mono uppercase text-xs">
                                    <tr>
                                        <th className="p-4">{t.date}</th>
                                        <th className="p-4">{t.domain}</th>
                                        <th className="p-4">{t.score}</th>
                                        <th className="p-4 hidden md:table-cell">{t.source}</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-slate-800 font-mono">
                                    {loading ? (
                                        <tr>
                                            <td colSpan="4" className="p-8 text-center text-gdbop-blue animate-pulse">
                                                {t.loading}
                                            </td>
                                        </tr>
                                    ) : error ? (
                                        <tr>
                                            <td colSpan="4" className="p-8 text-center text-red-500">
                                                {t.error}
                                            </td>
                                        </tr>
                                    ) : (
                                        currentItems.map((item, idx) => (
                                            <tr key={idx} className="hover:bg-gdbop-blue/5 transition-colors">
                                                <td className="p-4 whitespace-nowrap text-slate-500">
                                                    {formatDate(item.detected_at)}
                                                </td>
                                                <td className="p-4 max-w-xs md:max-w-md truncate text-gdbop-blue">
                                                    {item.domain}
                                                </td>
                                                <td className="p-4">
                                                    <span className="px-2 py-1 rounded text-xs font-bold bg-slate-700 text-slate-300">
                                                        {item.score}
                                                    </span>
                                                </td>
                                                <td className="p-4 hidden md:table-cell text-slate-500">
                                                    {item.source}
                                                </td>
                                            </tr>
                                        ))
                                    )}
                                </tbody>
                            </table>
                        </div>

                        {/* Pagination Controls */}
                        {!loading && !error && feedData.length > itemsPerPage && (
                            <div className="p-4 border-t border-slate-800 flex items-center justify-between bg-slate-950/30">
                                <button
                                    onClick={() => paginate(currentPage - 1)}
                                    disabled={currentPage === 1}
                                    className="px-4 py-2 text-xs font-mono font-bold text-slate-300 bg-slate-800 rounded hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                                >
                                    {t.prev}
                                </button>
                                <span className="text-xs font-mono text-slate-500">
                                    {t.page} {currentPage} {t.of} {totalPages}
                                </span>
                                <button
                                    onClick={() => paginate(currentPage + 1)}
                                    disabled={currentPage === totalPages}
                                    className="px-4 py-2 text-xs font-mono font-bold text-slate-300 bg-slate-800 rounded hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                                >
                                    {t.next}
                                </button>
                            </div>
                        )}
                    </div>
                </section>
            );
        };

        // 3D Cyber Cube Background
        const CyberCube = () => {
            const canvasRef = useRef(null);

            useEffect(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;

                const ctx = canvas.getContext('2d');
                if (!ctx) return;

                let animationFrameId;

                let width = window.innerWidth;
                let height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;

                // Cube Vertices [-1, 1]
                const createCubePoints = () => [
                    { x: -1, y: -1, z: -1 }, { x: 1, y: -1, z: -1 },
                    { x: 1, y: 1, z: -1 }, { x: -1, y: 1, z: -1 },
                    { x: -1, y: -1, z: 1 }, { x: 1, y: -1, z: 1 },
                    { x: 1, y: 1, z: 1 }, { x: -1, y: 1, z: 1 }
                ];

                const edges = [
                    [0, 1], [1, 2], [2, 3], [3, 0], // back
                    [4, 5], [5, 6], [6, 7], [7, 4], // front
                    [0, 4], [1, 5], [2, 6], [3, 7]  // connecting
                ];

                const pointsOuter = createCubePoints();
                const pointsInner = createCubePoints();

                let angleX = 0;
                let angleY = 0;

                const rotate = (p, ax, ay) => {
                    // Rotate Y
                    let x = p.x * Math.cos(ay) - p.z * Math.sin(ay);
                    let z = p.x * Math.sin(ay) + p.z * Math.cos(ay);
                    let y = p.y;

                    // Rotate X
                    let yNew = y * Math.cos(ax) - z * Math.sin(ax);
                    z = y * Math.sin(ax) + z * Math.cos(ax);
                    y = yNew;

                    return { x, y, z };
                }

                const drawCube = (points, size, color, lw, rotX, rotY, isInner = false) => {
                    ctx.strokeStyle = color;
                    ctx.lineWidth = lw;
                    ctx.lineCap = 'round';

                    // Perspective projection constants
                    const cameraDist = 4; // Camera distance from center

                    const projected = points.map(p => {
                        const rotated = rotate(p, rotX, rotY);
                        const scale = cameraDist / (cameraDist - rotated.z);

                        return {
                            x: rotated.x * size * scale + width / 2,
                            y: rotated.y * size * scale + height / 2,
                            z: rotated.z
                        };
                    });

                    // Draw edges
                    ctx.beginPath();
                    edges.forEach(edge => {
                        const p1 = projected[edge[0]];
                        const p2 = projected[edge[1]];
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                    });
                    ctx.stroke();

                    // Draw Nodes
                    ctx.fillStyle = '#0f172a';
                    projected.forEach(p => {
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, lw * 1.5, 0, Math.PI * 2);
                        ctx.fill();
                        ctx.stroke();
                    });
                };

                const render = () => {
                    ctx.clearRect(0, 0, width, height);

                    // Use a fraction of the viewport for size to ensure it fits
                    const sizeBase = Math.min(width, height) * 0.22;

                    // Outer Cube
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = 'rgba(71, 168, 246, 0.5)';
                    drawCube(pointsOuter, sizeBase, 'rgba(71, 168, 246, 0.6)', 1.5, angleX, angleY);

                    // Inner Cube
                    ctx.shadowBlur = 5;
                    ctx.shadowColor = 'rgba(71, 168, 246, 0.8)';
                    // Rotate inner cube in reverse and faster
                    drawCube(pointsInner, sizeBase * 0.5, 'rgba(71, 168, 246, 0.9)', 1, -angleX * 1.5, -angleY * 1.2, true);

                    angleX += 0.003;
                    angleY += 0.005;

                    animationFrameId = requestAnimationFrame(render);
                };

                render();

                const handleResize = () => {
                    width = window.innerWidth;
                    height = window.innerHeight;
                    canvas.width = width;
                    canvas.height = height;
                };

                window.addEventListener('resize', handleResize);
                return () => {
                    window.removeEventListener('resize', handleResize);
                    cancelAnimationFrame(animationFrameId);
                };
            }, []);

            return <canvas ref={canvasRef} className="fixed top-0 left-0 w-full h-full -z-10" />;
        };

        // Police Lights Effect
        const PoliceLights = () => {
            return (
                <div className="fixed inset-0 pointer-events-none z-0 overflow-hidden">
                    {/* Blue Ambient - Top Left */}
                    <div className="absolute -top-40 -left-40 w-96 h-96 bg-police-blue rounded-full opacity-10 blur-[100px] animate-pulse-slow"></div>
                    {/* Red Ambient - Bottom Right */}
                    <div className="absolute -bottom-40 -right-40 w-96 h-96 bg-police-red rounded-full opacity-10 blur-[100px] animate-pulse-slow" style={{ animationDelay: '2s' }}></div>
                </div>
            );
        };

        // Scanlines Overlay
        const Scanlines = () => (
            <div
                className="fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-50 bg-[linear-gradient(to_bottom,rgba(255,255,255,0),rgba(255,255,255,0)_50%,rgba(0,0,0,0.1)_50%,rgba(0,0,0,0.1))] bg-[length:100%_4px]"
            />
        );

        // Header Component
        const Header = ({ lang }) => {
            const t = TRANSLATIONS[lang];
            const [isLoaded, setIsLoaded] = useState(false);

            // Determine logo path based on language
            const logoPath = lang === 'en' ? 'images/logo-en.png' : 'images/logo.png';

            return (
                <header id="home" className="relative pt-32 pb-8 px-4 flex flex-col items-center justify-center z-10">
                    <div className="relative mb-6">
                        {/* Glowing ring behind logo */}
                        <div className="absolute inset-0 bg-gdbop-blue rounded-full blur-[40px] opacity-20 animate-pulse"></div>
                        <img
                            src={logoPath}
                            alt="ГДБОП Logo"
                            className={`relative h-48 md:h-56 w-auto object-contain drop-shadow-2xl transition-all duration-1000 transform ${isLoaded ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}
                            onLoad={() => setIsLoaded(true)}
                            onError={(e) => {
                                e.currentTarget.style.display = 'none';
                            }}
                        />
                    </div>

                    <div className="text-center space-y-2 animate-float">
                        <h1 className="text-3xl md:text-5xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-white via-gdbop-blue to-white drop-shadow-lg uppercase">
                            {t.headerTitle}
                        </h1>
                        <h2 className="text-xl md:text-2xl font-semibold tracking-widest text-slate-400 uppercase">
                            {t.headerSubtitle}
                        </h2>
                    </div>

                    <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-transparent via-gdbop-blue to-transparent opacity-50"></div>
                </header>
            );
        };

        // TikTok Feed Component (UPDATED VISUALS)
        const TikTokFeed = ({ lang }) => {
            const t = TRANSLATIONS[lang];
            const embedRef = useRef(null);

            useEffect(() => {
                // Function to load the TikTok SDK
                const loadTikTokSDK = () => {
                    // Check if script is already present
                    if (document.getElementById('tiktok-embed-script')) {
                        // If script exists, reload the embed if the method is available
                        if (window.tiktok && window.tiktok.embed && typeof window.tiktok.embed.load === 'function') {
                            window.tiktok.embed.load();
                        }
                        return;
                    }

                    const script = document.createElement('script');
                    script.id = 'tiktok-embed-script';
                    script.src = 'https://www.tiktok.com/embed.js';
                    script.async = true;
                    script.onload = () => {
                        // Trigger load once script is ready
                        if (window.tiktok && window.tiktok.embed && typeof window.tiktok.embed.load === 'function') {
                            window.tiktok.embed.load();
                        }
                    };
                    document.body.appendChild(script);
                };

                // Remove existing script to force reload (optional, but cleaner for single page apps usually)
                // However, for this simple page, we just check existence.
                loadTikTokSDK();

                // Cleanup not strictly necessary for this simple app but good practice
                return () => {
                    // We don't remove the script to avoid re-downloading on re-renders, 
                    // but we might want to ensure we don't duplicate.
                };
            }, [lang]); // Re-run if lang changes, though SDK handles itself mostly

            return (
                <section id="video-feed" className="container mx-auto px-4 py-16 z-10 relative">
                    <div className="flex items-center justify-center mb-12 gap-4">
                        <Siren className="text-police-blue animate-pulse drop-shadow-[0_0_10px_rgba(0,85,255,0.8)]" size={36} />
                        <h3 className="text-3xl md:text-5xl font-bold text-white text-center drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] uppercase tracking-widest">
                            <span className="bg-clip-text text-transparent bg-gradient-to-r from-white via-gdbop-blue to-white">
                                {t.videoTitle}
                            </span>
                        </h3>
                        <Siren className="text-police-red animate-pulse drop-shadow-[0_0_10px_rgba(255,0,0,0.8)]" size={36} />
                    </div>

                    <div className="flex justify-center perspective-[2000px]">
                        {/* 3D Wrapper */}
                        <div className="relative group w-full max-w-7xl transition-all duration-700 transform hover:[transform:rotateX(2deg)_scale(1.01)]">

                            {/* Ambient Glow */}
                            <div className="absolute -inset-4 bg-gradient-to-r from-police-blue via-purple-600 to-police-red rounded-[3rem] blur-2xl opacity-20 group-hover:opacity-40 transition duration-1000 animate-pulse-slow"></div>

                            {/* Main Frame Chassis */}
                            <div className="relative bg-slate-950 rounded-[2rem] p-3 shadow-2xl ring-1 ring-white/10 border-t border-slate-800">

                                {/* Metallic Bezel / Frame Border */}
                                <div className="bg-gradient-to-br from-slate-700 via-slate-800 to-slate-950 rounded-[1.5rem] p-2 shadow-[inset_0_2px_4px_rgba(255,255,255,0.1),0_10px_20px_rgba(0,0,0,0.5)] border border-slate-600">

                                    {/* Inner Screen Container (Recessed) */}
                                    <div className="relative bg-black rounded-xl overflow-hidden border border-slate-800 shadow-[inset_0_0_40px_rgba(0,0,0,1)]">

                                        {/* Top UI Bar */}
                                        <div className="h-12 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-6 relative z-20">
                                            <div className="flex items-center gap-4">
                                                <div className="flex gap-2">
                                                    <div className="w-3 h-3 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.8)]"></div>
                                                    <div className="w-3 h-3 rounded-full bg-amber-500 opacity-50"></div>
                                                    <div className="w-3 h-3 rounded-full bg-green-500 opacity-50"></div>
                                                </div>
                                                <div className="h-6 w-px bg-slate-700"></div>
                                                <div className="flex items-center gap-2 text-gdbop-blue/80 font-mono text-xs tracking-widest hidden sm:flex">
                                                    <Video size={14} />
                                                    <span>{t.latestFrom} @CYBERCRIME.BG</span>
                                                </div>
                                            </div>
                                            <div className="flex items-center gap-3">
                                                <div className="px-2 py-0.5 rounded bg-blue-900/30 border border-blue-500/30 text-[10px] text-blue-400 font-mono">
                                                    {t.live}
                                                </div>
                                                <div className="w-2 h-2 bg-gdbop-blue rounded-full animate-pulse"></div>
                                            </div>
                                        </div>

                                        {/* Content Area with Grid Background */}
                                        <div className="relative min-h-[500px] bg-[#050505] flex justify-center items-center">
                                            {/* Cyber Grid Background */}
                                            <div className="absolute inset-0 bg-[linear-gradient(rgba(50,100,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(50,100,255,0.05)_1px,transparent_1px)] bg-[size:50px_50px] pointer-events-none"></div>
                                            <div className="absolute inset-0 bg-radial-gradient(circle at 50% 50%, rgba(71,168,246,0.05), transparent 80%) pointer-events-none"></div>

                                            {/* Corner Brackets */}
                                            <div className="absolute top-12 left-1 md:top-4 md:left-4 w-8 h-8 border-t-2 border-l-2 border-gdbop-blue/50 rounded-tl-lg pointer-events-none"></div>
                                            <div className="absolute top-12 right-1 md:top-4 md:right-4 w-8 h-8 border-t-2 border-r-2 border-gdbop-blue/50 rounded-tr-lg pointer-events-none"></div>
                                            <div className="absolute bottom-12 left-1 md:bottom-4 md:left-4 w-8 h-8 border-b-2 border-l-2 border-gdbop-blue/50 rounded-bl-lg pointer-events-none"></div>
                                            <div className="absolute bottom-12 right-1 md:bottom-4 md:right-4 w-8 h-8 border-b-2 border-r-2 border-gdbop-blue/50 rounded-br-lg pointer-events-none"></div>

                                            {/* Actual Embed Container */}
                                            <div className="relative z-10 p-3 sm:p-6 w-full flex justify-center">
                                                <blockquote
                                                    className="tiktok-embed"
                                                    cite="https://www.tiktok.com/@cybercrime.bg"
                                                    data-unique-id="cybercrime.bg"
                                                    data-embed-type="creator"
                                                    style={{ maxWidth: '100%', minWidth: '300px', width: '100%', margin: 0 }}
                                                >
                                                    <section>
                                                        <a target="_blank" href="https://www.tiktok.com/@cybercrime.bg?refer=embed" rel="noreferrer" className="text-gdbop-blue hover:underline">
                                                            @cybercrime.bg
                                                        </a>
                                                    </section>
                                                </blockquote>
                                            </div>
                                        </div>

                                        {/* Screen Overlays */}
                                        <div className="absolute inset-0 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.3)_50%)] bg-[size:100%_3px] z-20 opacity-20 mix-blend-overlay"></div>
                                    </div>
                                </div>

                                {/* Bottom Chin Branding */}
                                <div className="mt-3 flex justify-center items-center opacity-50">
                                    <div className="flex gap-2 items-center text-xs font-mono text-slate-500 tracking-[0.3em]">
                                        <span>CYBER</span>
                                        <div className="w-1 h-1 bg-slate-500 rounded-full"></div>
                                        <span>INTELLIGENCE</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };


        // Crime Expanding Cards Component
        const CrimeTypesSection = ({ lang }) => {
            const [hoveredId, setHoveredId] = useState(null);
            const [selectedId, setSelectedId] = useState(null);

            useEffect(() => {
                const handleResize = () => {
                    const isDesktop = window.innerWidth >= 1024;
                    if (isDesktop) {
                        setHoveredId(prev => prev === null ? CRIME_TYPES_DATA[0].id : prev);
                    } else {
                        setHoveredId(prev => prev === CRIME_TYPES_DATA[0].id ? null : prev);
                    }
                };

                handleResize(); // Initial check

                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            const READ_MORE_TEXT = {
                bg: "ПРОЧЕТИ ПОВЕЧЕ",
                en: "READ MORE"
            };

            // Handle interactions
            const handleCardClick = (id) => {
                const isMobile = window.innerWidth < 1024;
                const isExpanded = hoveredId === id;
                const isSelected = selectedId === id;

                if (isMobile) {
                    if (!isExpanded) {
                        setHoveredId(id);
                        setSelectedId(null);
                    } else if (!isSelected) {
                        setSelectedId(id);
                    } else {
                        setHoveredId(null);
                        setSelectedId(null);
                    }
                } else {
                    // Desktop: Toggle Full Text
                    setSelectedId(isSelected ? null : id);
                }
            };

            const handleMouseEnter = (id) => {
                const isMobile = window.innerWidth < 1024;
                if (!isMobile) {
                    setHoveredId(id);
                }
            };

            const handleMouseLeave = () => {
                const isMobile = window.innerWidth < 1024;
                if (!isMobile) {
                    setHoveredId(CRIME_TYPES_DATA[0].id);
                    setSelectedId(null);
                }
            };

            return (
                <section className="container mx-auto px-4 py-16 mt-24 relative z-10">
                    <div className="flex flex-col gap-4 h-auto lg:flex-row lg:min-h-[600px] w-full max-w-7xl mx-auto items-stretch">
                        {CRIME_TYPES_DATA.map((crime) => {
                            const isExpanded = hoveredId === crime.id;
                            const isSelected = selectedId === crime.id;

                            return (
                                <div
                                    key={crime.id}
                                    onMouseEnter={() => handleMouseEnter(crime.id)}
                                    onMouseLeave={handleMouseLeave}
                                    onClick={() => handleCardClick(crime.id)}
                                    className={`
                                        relative rounded-2xl overflow-hidden cursor-pointer transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                                        border border-gdbop-blue/20 shadow-lg backdrop-blur-md bg-slate-900/40 hover:bg-slate-900/60
                                        ${isExpanded
                                            ? `h-auto py-8 lg:h-auto lg:flex-[5] border-gdbop-blue/60 shadow-[0_0_30px_rgba(71,168,246,0.15)] ring-1 ring-gdbop-blue/30 ${isSelected ? 'lg:py-12' : 'lg:py-0'}`
                                            : 'h-24 lg:h-auto lg:flex-1'
                                        }
                                    `}
                                >
                                    {/* Background Image */}
                                    <div className="absolute inset-0 z-0">
                                        <div className={`absolute inset-0 bg-slate-900/80 transition-opacity duration-500 ${isExpanded ? 'opacity-90' : 'opacity-60'} z-10`}></div>
                                        <img
                                            src={crime.img}
                                            alt=""
                                            onError={(e) => e.target.style.display = 'none'}
                                            className={`
                                                w-full h-full object-cover transition-transform duration-1000
                                                opacity-50 grayscale group-hover:grayscale-0
                                                ${isExpanded ? 'scale-110' : 'scale-100'}
                                            `}
                                        />
                                        <div className="absolute inset-0 bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[size:100%_4px] opacity-10 pointer-events-none z-10"></div>
                                    </div>

                                    {/* Persistent Title behavior */}
                                    <div className={`
                                        absolute z-40 transition-all duration-500
                                        ${isExpanded ? 'opacity-0 translate-y-4 pointer-events-none' : 'opacity-100 translate-y-0'}
                                        
                                        /* Mobile: Simple text, no frame (Bottom Right) */
                                        bottom-4 right-4 text-white font-bold text-sm tracking-wider drop-shadow-lg lg:hidden
                                    `}>
                                        {crime.title[lang]}
                                    </div>

                                    {/* Desktop Vertical Framed Title (Hidden on Mobile) */}
                                    <div className={`
                                        hidden lg:block absolute z-40 border border-gdbop-blue/50 bg-slate-900/90 backdrop-blur-xl
                                        px-4 py-2 text-gdbop-blue shadow-[0_0_15px_rgba(71,168,246,0.2)]
                                        font-bold uppercase transition-all duration-500
                                        ${crime.id === 'investment_fraud' ? 'text-[10px] tracking-wide' : 'text-xs tracking-widest'}
                                        ${isExpanded ? 'opacity-0 translate-y-4 scale-95 pointer-events-none' : 'opacity-100 translate-y-0 scale-100'}
                                        bottom-12 left-0 origin-bottom-left -rotate-90 whitespace-nowrap border-l-0
                                    `}>
                                        {crime.title[lang]}
                                    </div>

                                    {/* Center Icon (Collapsed State) */}
                                    <div className={`
                                        absolute left-4 top-1/2 -translate-y-1/2
                                        transition-all duration-500 z-30
                                        ${isExpanded ? 'opacity-0 scale-50' : 'opacity-100 scale-100'}
                                        lg:left-1/2 lg:-translate-x-1/2
                                    `}>
                                        <div className="p-3 rounded-full backdrop-blur-md border border-gdbop-blue/30 bg-slate-800/50 text-gdbop-blue shadow-[0_0_15px_rgba(71,168,246,0.1)]">
                                            <crime.icon size={24} className="drop-shadow-md" />
                                        </div>
                                    </div>

                                    {/* Expanded Content */}
                                    <div className={`
                                        relative z-20 h-full p-6 flex flex-col justify-end lg:justify-center
                                        transition-all duration-500
                                        ${isExpanded ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8 pointer-events-none'}
                                    `}>
                                        <div className="border-l-4 border-gdbop-blue pl-6 py-2 bg-gradient-to-r from-gdbop-blue/10 to-transparent">
                                            <h3 className="text-2xl md:text-[1.25rem] font-black text-white uppercase drop-shadow-xl mb-2 tracking-tight">
                                                {crime.title[lang]}
                                            </h3>
                                            <p className="text-gdbop-blue font-mono text-xs md:text-sm uppercase tracking-[0.2em] mb-1">
                                                {crime.subtitle[lang]}
                                            </p>
                                        </div>

                                        {/* Description: Truncated vs Full */}
                                        <div className={`
                                            mt-6 relative
                                            ${isSelected ? 'opacity-100' : 'opacity-90'}
                                        `}>
                                            <p className={`
                                                text-slate-200 text-sm md:text-base leading-relaxed border-t border-gdbop-blue/30 pt-4 font-light
                                                ${isSelected ? '' : 'line-clamp-4'}
                                            `}
                                                style={!isSelected ? { display: '-webkit-box', WebkitLineClamp: 4, WebkitBoxOrient: 'vertical', overflow: 'hidden' } : {}}
                                                dangerouslySetInnerHTML={{ __html: crime.desc[lang] }}
                                            />

                                            {/* Read More Trigger */}
                                            {!isSelected && (
                                                <div className="mt-3 flex items-center gap-2 text-gdbop-blue text-xs font-bold tracking-widest uppercase animate-pulse">
                                                    <span>{READ_MORE_TEXT[lang]}</span>
                                                    <ArrowRight size={14} />
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </section>
            );
        };

        // Tips Section Component
        const TipsSection = ({ lang }) => {
            const t = TRANSLATIONS[lang];

            return (
                <section id="tips" className="container mx-auto px-4 py-12 z-10 relative">
                    <div className="flex items-center justify-center mb-12 gap-3">
                        <Siren className="text-police-blue animate-pulse" size={32} />
                        <h3 className="text-2xl md:text-3xl font-bold text-white text-center border-b-2 border-gdbop-blue pb-2">
                            {t.tipsTitle}
                        </h3>
                        <Siren className="text-police-red animate-pulse" size={32} />
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {TIPS_DATA.map((tip) => (
                            <div
                                key={tip.id}
                                className="glass-panel p-6 rounded-xl hover:shadow-[0_0_15px_rgba(71,168,246,0.3)] backdrop-blur-md bg-slate-900/70 border border-gdbop-blue/20 transition-all duration-300 hover:-translate-y-1 group flex flex-col h-full"
                            >
                                <div className="flex items-center gap-4 mb-4">
                                    <div className="p-3 rounded-lg bg-slate-800 text-gdbop-blue group-hover:bg-gdbop-blue group-hover:text-white transition-colors duration-300">
                                        <tip.icon size={tip.id === 'phishing' ? 42 : 28} />
                                    </div>
                                    <h4 className="font-bold text-lg text-slate-100 leading-tight">
                                        {tip.title[lang]}
                                    </h4>
                                </div>
                                <div className="text-slate-300 text-sm leading-relaxed flex-grow text-justify">
                                    {tip.content[lang]}
                                </div>
                                {tip.linkText && tip.linkText[lang] && (
                                    <div className="mt-4 pt-4 border-t border-slate-700">
                                        <a
                                            href={tip.linkUrl}
                                            target={tip.linkUrl.startsWith('http') ? "_blank" : "_self"}
                                            rel={tip.linkUrl.startsWith('http') ? "noreferrer" : undefined}
                                            className="inline-flex items-center gap-2 text-gdbop-blue hover:text-white font-medium text-sm transition-colors"
                                        >
                                            <ExternalLink size={16} />
                                            {tip.linkText[lang]}
                                        </a>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </section>
            );
        };

        // CTA Section Component
        const CTASection = ({ lang }) => {
            const t = TRANSLATIONS[lang];

            return (
                <section className="py-16 relative z-10">
                    <div className="absolute inset-0 bg-gradient-to-r from-police-blue/10 via-gdbop-blue/5 to-police-red/10 backdrop-blur-sm"></div>
                    <div className="container mx-auto px-4 relative">
                        <div className="max-w-4xl mx-auto glass-panel bg-slate-900/80 backdrop-blur-lg p-8 md:p-12 rounded-2xl border border-white/10 text-center shadow-2xl">
                            <Siren className="w-16 h-16 mx-auto mb-6 text-gdbop-blue animate-pulse" />
                            <p className="text-lg md:text-xl font-medium leading-relaxed text-white">
                                {t.ctaText} <span className="text-gdbop-blue font-bold">{t.ctaDirectorate}</span> {t.ctaMvr}
                            </p>
                        </div>
                    </div>
                </section>
            );
        };

        // Footer Component
        const Footer = ({ lang }) => {
            const t = TRANSLATIONS[lang];

            return (
                <section id="contacts" className="bg-slate-950 border-t border-slate-800 text-slate-400 py-12 z-10 relative">
                    <div className="container mx-auto px-4 flex flex-col items-center text-center gap-6">
                        <div>
                            <h4 className="text-white text-lg font-bold mb-2 uppercase tracking-wide">
                                {t.footerTitle}
                            </h4>
                            <p className="max-w-md mx-auto mb-4">
                                {t.address}
                            </p>
                            <a
                                href="https://maps.app.goo.gl/dVYVvWKt1sPPhiU49"
                                target="_blank"
                                rel="noopener noreferrer"
                                className="inline-flex items-center gap-2 text-gdbop-blue hover:text-white transition-colors border border-gdbop-blue/30 px-4 py-2 rounded-full hover:bg-gdbop-blue/10"
                            >
                                <MapPin size={18} />
                                <span>{t.openMap}</span>
                            </a>
                        </div>

                        <div className="flex gap-6 mt-4">
                            <a
                                href="https://www.facebook.com/www.cybercrime.bg"
                                target="_blank"
                                rel="noreferrer"
                                className="p-3 bg-slate-800 rounded-full hover:bg-[#1877F2] hover:text-white transition-all duration-300 transform hover:scale-110"
                                aria-label="Facebook"
                            >
                                <Facebook size={24} />
                            </a>
                            <a
                                href="https://www.youtube.com/user/bgcybercrime"
                                target="_blank"
                                rel="noreferrer"
                                className="p-3 bg-slate-800 rounded-full hover:bg-[#FF0000] hover:text-white transition-all duration-300 transform hover:scale-110"
                                aria-label="YouTube"
                            >
                                <Youtube size={24} />
                            </a>
                            <a
                                href="https://www.tiktok.com/@cybercrime.bg"
                                target="_blank"
                                rel="noreferrer"
                                className="p-3 bg-slate-800 rounded-full hover:bg-black hover:text-white border border-slate-700 hover:border-white transition-all duration-300 transform hover:scale-110"
                                aria-label="TikTok"
                            >
                                <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z" />
                                </svg>
                            </a>
                        </div>

                        <div className="mt-8 text-xs text-slate-600">
                            &copy; {new Date().getFullYear()} Киберпрестъпност ГДБОП. {t.rights}
                        </div>
                    </div>
                </section>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            const [lang, setLang] = useState('bg'); // 'bg' or 'en'

            // Effect to set loading state for initial load animation
            useEffect(() => {
                // Simulate loading resources
            }, []);

            return (
                <React.Fragment>
                    <Navbar lang={lang} setLang={setLang} />
                    <Scanlines />
                    <CyberCube />
                    <PoliceLights />

                    <BackToTop />

                    <div className="flex flex-col min-h-screen">
                        <Header lang={lang} />
                        <main className="flex-grow">
                            <CrimeTypesSection lang={lang} />
                            <TipsSection lang={lang} />
                            <ThreatFeed lang={lang} />
                            <PhishingFeed lang={lang} />
                            <BlogSection lang={lang} />
                            <TikTokFeed lang={lang} />
                            <CTASection lang={lang} />
                        </main>
                        <Footer lang={lang} />
                    </div>
                </React.Fragment>
            );
        };

        // --- RENDER ---
        const rootElement = document.getElementById('root');
        if (rootElement) {
            const root = createRoot(rootElement);
            root.render(<App />);
        }
    </script>
</body>
<!-- 
  Created by Georgi I. [tepees_fetch.4q@icloud.com]
  AI collaboration: Gemini 3 Pro [IDE Antigravity]
-->

</html>
